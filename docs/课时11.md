# 添加 stylelint

### 配置 stylelintrc

使用 stylelint-config-standard 插件

.stylelintrc.js

```js
module.exports = {
  root: true,
  extends: 'stylelint-config-standard'
}
```

### 配置 stylelint 插件

```js
module.exports = ({ config, options: { stylelint: { lintOnSave = false, extensions } = {} }, api }) => {
  const StyleLintPlugin = require('stylelint-webpack-plugin')
  const CodeframeFormatter = require('stylelint-codeframe-formatter')
  const stylelint = []
  return () => {
    config
      .plugin('stylelint')
      .use(StyleLintPlugin, [Object.assign({
        failOnError: lintOnSave === 'error',
        files: ['src/**/*.{vue,htm,html,css,sss,less,scss}'],
        formatter: CodeframeFormatter
      }, stylelint)])
  }
}
```

### 代码提交检查

```json
{
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.{vue,htm,html,css,sss,less,scss}": [
      "webpack-box lint stylelint",
      "git add"
    ],
    "*.{js,jsx}": [
      "webpack-box lint eslint",
      "git add"
    ]
  }
}
```